menu.t_valuename = {
    dummycontrol = {
		{itemname = 'cooperative', displayname = motif.training_info.menu_valuename_dummycontrol_cooperative},
		{itemname = 'ai', displayname = motif.training_info.menu_valuename_dummycontrol_ai},
		{itemname = 'manual', displayname = motif.training_info.menu_valuename_dummycontrol_manual},
	},
	ailevel = {
		{itemname = '1', displayname = motif.training_info.menu_valuename_ailevel_1},
		{itemname = '2', displayname = motif.training_info.menu_valuename_ailevel_2},
		{itemname = '3', displayname = motif.training_info.menu_valuename_ailevel_3},
		{itemname = '4', displayname = motif.training_info.menu_valuename_ailevel_4},
		{itemname = '5', displayname = motif.training_info.menu_valuename_ailevel_5},
		{itemname = '6', displayname = motif.training_info.menu_valuename_ailevel_6},
		{itemname = '7', displayname = motif.training_info.menu_valuename_ailevel_7},
		{itemname = '8', displayname = motif.training_info.menu_valuename_ailevel_8},
	},
	guardconfig = { --Kokorz Addition
		{itemname = 'normal', displayname = motif.training_info.menu_valuename_guardconfig_normal},
		{itemname = 'ib', displayname = motif.training_info.menu_valuename_guardconfig_ib},
		{itemname = 'sg', displayname = motif.training_info.menu_valuename_guardconfig_sg},
	},
	guardmode = {
		{itemname = 'none', displayname = motif.training_info.menu_valuename_guardmode_none},
		{itemname = 'auto', displayname = motif.training_info.menu_valuename_guardmode_auto},
		{itemname = '1hit', displayname = motif.training_info.menu_valuename_guardmode_1hit}, --Kokorz Addition
		{itemname = 'random', displayname = motif.training_info.menu_valuename_guardmode_random}, --Kokorz Addition
	},
	dummymode = {
		{itemname = 'stand', displayname = motif.training_info.menu_valuename_dummymode_stand},
		{itemname = 'crouch', displayname = motif.training_info.menu_valuename_dummymode_crouch},
		{itemname = 'jump', displayname = motif.training_info.menu_valuename_dummymode_jump},
		{itemname = 'wjump', displayname = motif.training_info.menu_valuename_dummymode_wjump},
	},
	distance = {
		{itemname = 'any', displayname = motif.training_info.menu_valuename_distance_any},
		{itemname = 'close', displayname = motif.training_info.menu_valuename_distance_close},
		{itemname = 'medium', displayname = motif.training_info.menu_valuename_distance_medium},
		{itemname = 'far', displayname = motif.training_info.menu_valuename_distance_far},
	},
	bjconfig = { -- Kokorz Addition
		{itemname = 'mash', displayname = motif.training_info.menu_valuename_bjconfig_mash},
		{itemname = 'reversal', displayname = motif.training_info.menu_valuename_bjconfig_reversal},
	},
	buttonjam = {
		{itemname = 'none', displayname = motif.training_info.menu_valuename_buttonjam_none},
		{itemname = 'a', displayname = motif.training_info.menu_valuename_buttonjam_a},
		{itemname = 'b', displayname = motif.training_info.menu_valuename_buttonjam_b},
		{itemname = 'c', displayname = motif.training_info.menu_valuename_buttonjam_c},
		{itemname = 'x', displayname = motif.training_info.menu_valuename_buttonjam_x},
		{itemname = 'y', displayname = motif.training_info.menu_valuename_buttonjam_y},
		{itemname = 'z', displayname = motif.training_info.menu_valuename_buttonjam_z},
		{itemname = 's', displayname = motif.training_info.menu_valuename_buttonjam_s},
		{itemname = 'd', displayname = motif.training_info.menu_valuename_buttonjam_d},
	},
	life = { -- Triea Addition
		{itemname = '100', displayname = motif.training_info.menu_valuename_life_100},
		{itemname = '70', displayname = motif.training_info.menu_valuename_life_70},
		{itemname = '40', displayname = motif.training_info.menu_valuename_life_40},
		{itemname = '10', displayname = motif.training_info.menu_valuename_life_10},
	},
	enemylife = { -- Triea & Kokorz Addition
		{itemname = '100', displayname = motif.training_info.menu_valuename_enemylife_100},
		{itemname = '70', displayname = motif.training_info.menu_valuename_enemylife_70},
		{itemname = '40', displayname = motif.training_info.menu_valuename_enemylife_40},
		{itemname = '10', displayname = motif.training_info.menu_valuename_enemylife_10},
	},
	power = { -- Triea Addition
		{itemname = '3bars', displayname = motif.training_info.menu_valuename_power_3bars},
		{itemname = '2bars', displayname = motif.training_info.menu_valuename_power_2bars},
		{itemname = '1bar', displayname = motif.training_info.menu_valuename_power_1bar},
		{itemname = '0bars', displayname = motif.training_info.menu_valuename_power_0bars},
	},
	refill = { -- Kokorz Addition
		{itemname = 'enabled', displayname = motif.training_info.menu_valuename_refill_enabled},
		{itemname = 'disabled', displayname = motif.training_info.menu_valuename_refill_disabled},
	},
	knockout = { -- Kokorz Addition
		{itemname = 'disabled', displayname = motif.training_info.menu_valuename_knockout_disabled},
		{itemname = 'enabled', displayname = motif.training_info.menu_valuename_knockout_enabled},
	},
	framedata = { -- Kokorz Addition
		{itemname = 'off', displayname = motif.training_info.menu_valuename_framedata_off},
		{itemname = 'on', displayname = motif.training_info.menu_valuename_framedata_on},
	},
	clsnview = { -- Kokorz Addition
		{itemname = 'off', displayname = motif.training_info.menu_valuename_clsnview_off},
		{itemname = 'on', displayname = motif.training_info.menu_valuename_clsnview_on},
	},
	hudview = { -- Kokorz Addition
		{itemname = 'on', displayname = motif.training_info.menu_valuename_hudview_on},
		{itemname = 'off', displayname = motif.training_info.menu_valuename_hudview_off},
	},
	recoverdirection = { -- Kokorz Addition
		{itemname = 'none', displayname = motif.training_info.menu_valuename_recoverdirection_none},
		{itemname = 'up', displayname = motif.training_info.menu_valuename_recoverdirection_up},
		{itemname = 'back', displayname = motif.training_info.menu_valuename_recoverdirection_back},
		{itemname = 'down', displayname = motif.training_info.menu_valuename_recoverdirection_down},
		{itemname = 'forward', displayname = motif.training_info.menu_valuename_recoverdirection_forward},
		{itemname = 'random', displayname = motif.training_info.menu_valuename_recoverdirection_random},
	},
	liedowntime = { -- Kokorz Addition
		{itemname = 'early', displayname = motif.training_info.menu_valuename_liedowntime_early},
		{itemname = 'late', displayname = motif.training_info.menu_valuename_liedowntime_late},
		{itemname = 'random', displayname = motif.training_info.menu_valuename_liedowntime_random},
	},
	grabtech = { -- Kokorz Addition
		{itemname = 'manual', displayname = motif.training_info.menu_valuename_grabtech_manual},
		{itemname = 'auto', displayname = motif.training_info.menu_valuename_grabtech_auto},
		{itemname = 'random', displayname = motif.training_info.menu_valuename_grabtech_random},
	},
	-- frameadvance = { -- Kokorz Addition
	-- 	{itemname = 'step', displayname = motif.training_info.menu_valuename_frameadvance_step},
	-- 	{itemname = 'step2', displayname = motif.training_info.menu_valuename_frameadvance_step2},
	-- },
	counterhit = { -- Kokorz Addition
		{itemname = 'off', displayname = motif.training_info.menu_valuename_counterhit_off},
		{itemname = 'on', displayname = motif.training_info.menu_valuename_counterhit_on},
	},
}

menu.t_itemname = {
    --Back
	['back'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) then
			if menu.currentMenu[1] == menu.currentMenu[2] then
				sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
				togglePause(false)
				main.pauseMenu = false
			else
				sndPlay(motif.files.snd_data, motif[section].cancel_snd[1], motif[section].cancel_snd[2])
			end
			menu.currentMenu[1] = menu.currentMenu[2]
			return false
		end
		return true
	end,
	--Dummy Control
	['dummycontrol'] = function(t, item, cursorPosY, moveTxt, section)
		local ok, name = menu.f_valueChanged(t.items[item], motif[section])
		if ok then
			if name == 'cooperative' or name == 'manual' then
				player(2)
				setAILevel(0)
			elseif name == 'ai' then
				player(2)
				setAILevel(menu.ailevel)
			end
			charMapSet(2, '_iksys_trainingDummyControl', menu.dummycontrol - 1)
		end
		return true
	end,
	--AI Level
	['ailevel'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			if menu.t_valuename.dummycontrol[menu.dummycontrol or 1].itemname == 'ai' then
				player(2)
				setAILevel(menu.ailevel)
			end
		end
		return true
	end,
	--Guard Mode Configure - Kokorz Addition
	['guardconfig'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingGuardModeConfigure', menu.guardconfig - 1)
		end
		return true
	end,
	--Guard Mode
	['guardmode'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingGuardMode', menu.guardmode - 1)
		end
		return true
	end,
	--Dummy Mode
	['dummymode'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingDummyMode', menu.dummymode - 1)
		end
		return true
	end,
	--Distance
	['distance'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingDistance', menu.distance - 1)
		end
		return true
	end,
	--Button Jam Configure - Kokorz Addition
	['bjconfig'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingButtonJamConfigure', menu.bjconfig - 1)
		end
		return true
	end,
	--Button Jam
	['buttonjam'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingButtonJam', menu.buttonjam - 1)
		end
		return true
	end,
    --Life - Triea Addition
	['life'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_traininglife', menu.life - 1)
		end
		return true
	end,
    --Enemy Life - Triea & Kokorz Addition
	['enemylife'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingenemylife', menu.enemylife - 1)
		end
		return true
	end,
	--Power - Triea Addition
	['power'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingpower', menu.power - 1)
		end
		return true
	end,
	--Meter Refill - Kokorz Addition
	['refill'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_enableRefill', menu.refill - 1)
		end
		return true
	end,
	--Knockout - Kokorz Addition
	['knockout'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_enableKO', menu.knockout - 1)
		end
		return true
	end,
	--Frame Data Display - Kokorz Addition
	['framedata'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingFrameData', menu.framedata - 1)
		end
		return true
	end,
	--CLSN Viewing -- Kokorz Addition
	['clsnview'] = function(t, item, cursorPosY, moveTxt, section)
		local ok, cname =  menu.f_valueChanged(t.items[item], motif[section])
		if ok then
			if cname == 'on' then
				ClsnDraw = 1
				toggleClsnDraw()
			elseif cname == 'off' then
				ClsnDraw = 0
				toggleClsnDraw()
			end
			charMapSet(2, '_iksys_trainingCLSNView', menu.clsnview - 1)
		end
		return true
	end,
	--HUD View -- Kokorz Addition
	['hudview'] = function(t, item, cursorPosY, moveTxt, section)
		local ok, hname =  menu.f_valueChanged(t.items[item], motif[section])
		if ok then
			if hname == 'on' then
				HUDDraw = 0
				toggleStatusDraw()
			elseif hname == 'off' then
				HUDDraw = 1
				toggleStatusDraw()
			end
			charMapSet(2, '_iksys_trainingHUDView', menu.hudview - 1)
		end
		return true
	end,
	--Recover Direction - Kokorz Addition
	['recoverdirection'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingRecoverDirection', menu.recoverdirection - 1)
		end
		return true
	end,
	-- Liedown Time - Kokorz Addition
	['liedowntime'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingLiedownTime', menu.liedowntime - 1)
		end
		return true
	end,
	-- Grab Tech - Kokorz Addition
	['grabtech'] = function(t, item, cursorPosY, moveTxt, section)
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingGrabTech', menu.grabtech- 1)
		end
		return true
	end,
	-- -- Frame Advance - Kokorz Addition
	-- ['frameadvance'] = function(t, item, cursorPosY, moveTxt, section)
	-- 	--if main.f_input(main.t_players, {'pal', 's'}) then
	-- 	if f_valueChanged(t.items[item], motif[section]) then
	-- 		step()
	-- 	end
	-- 	return true
	-- end,
	-- Counterhit State
	['counterhit'] = function(t, item, cursorPosY, moveTxt, section)
		--if main.f_input(main.t_players, {'pal', 's'}) then
		if menu.f_valueChanged(t.items[item], motif[section]) then
			charMapSet(2, '_iksys_trainingCounterHit', menu.counterhit - 1)
		end
		return true
	end,
	--Key Config
	['keyboard'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) --[[or getKey('F1')]] then
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			options.f_keyCfgInit('KeyConfig', t.submenu[t.items[item].itemname].title)
			menu.itemname = t.items[item].itemname
		end
		return true
	end,
	--Joystick Config
	['gamepad'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) --[[or getKey('F2')]] then
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			options.f_keyCfgInit('JoystickConfig', t.submenu[t.items[item].itemname].title)
			menu.itemname = t.items[item].itemname
		end
		return true
	end,
	--Default
	['inputdefault'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) then
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			options.f_keyDefault()
			for pn = 1, #config.KeyConfig do
				setKeyConfig(pn, config.KeyConfig[pn].Joystick, config.KeyConfig[pn].Buttons)
			end
			if main.flags['-nojoy'] == nil then
				for pn = 1, #config.JoystickConfig do
					setKeyConfig(pn, config.JoystickConfig[pn].Joystick, config.JoystickConfig[pn].Buttons)
				end
			end
			options.f_saveCfg(false)
		end
		return true
	end,
    --Round Reset
	['reset'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) then
			if ClsnDraw == 1 then 
				toggleClsnDraw()
				ClsnDraw = 0
			end
			if HUDDraw == 1 then 
				toggleStatusDraw()
				HUDDraw = 0
			end
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			togglePause(false)
			roundReset()
			main.pauseMenu = false
			return false
		end
		return true
	end,
	--Reload (Rematch)
	['reload'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) then
			if ClsnDraw == 1 then 
				toggleClsnDraw()
				ClsnDraw = 0
			end
			if HUDDraw == 1 then 
				toggleStatusDraw()
				HUDDraw = 0
			end
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			togglePause(false)
			reload()
			main.pauseMenu = false
			return false
		end
		return true
	end,
	--Command List
	['commandlist'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) then
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			menu.f_commandlistParse()
			menu.itemname = t.items[item].itemname
		end
		return true
	end,
	--Character Change
	['characterchange'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) then
			if ClsnDraw == 1 then 
				toggleClsnDraw()
				ClsnDraw = 0
			end
			if HUDDraw == 1 then 
				toggleStatusDraw()
				HUDDraw = 0
			end
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			togglePause(false)
			endMatch()
			main.pauseMenu = false
			return false
		end
		return true
	end,
	--Exit
	['exit'] = function(t, item, cursorPosY, moveTxt, section)
		if main.f_input(main.t_players, {'pal', 's'}) then
			if ClsnDraw == 1 then 
				toggleClsnDraw()
				ClsnDraw = 0
			end
			if HUDDraw == 1 then 
				toggleStatusDraw()
				HUDDraw = 0
			end
			sndPlay(motif.files.snd_data, motif[section].cursor_done_snd[1], motif[section].cursor_done_snd[2])
			togglePause(false)
			endMatch()
			start.exit = true
			main.pauseMenu = false
			return false
		end
		return true
	end,
}

menu.t_vardisplay = {
    ['dummycontrol'] = function()
		return menu.t_valuename.dummycontrol[menu.dummycontrol or 1].displayname 
	end,
	['ailevel'] = function()
		return menu.t_valuename.ailevel[menu.ailevel or config.Difficulty].displayname 
	end,
	['guardconfig'] = function()
		return menu.t_valuename.guardconfig[menu.guardconfig or 1].displayname 
	end,
	['guardmode'] = function()
		return menu.t_valuename.guardmode[menu.guardmode or 1].displayname 
	end,
	['dummymode'] = function()
		return menu.t_valuename.dummymode[menu.dummymode or 1].displayname 
	end,
	['distance'] = function()
		return menu.t_valuename.distance[menu.distance or 1].displayname 
	end,
	['bjconfig'] = function()
		return menu.t_valuename.bjconfig[menu.bjconfig or 1].displayname 
	end,
	['buttonjam'] = function()
		return menu.t_valuename.buttonjam[menu.buttonjam or 1].displayname 
	end,
    ['life'] = function()
		return menu.t_valuename.life[menu.life or 1].displayname 
    end,
	['enemylife'] = function()
		return menu.t_valuename.enemylife[menu.enemylife or 1].displayname 
    end,
    ['power'] = function()
		return menu.t_valuename.power[menu.power or 1].displayname 
    end,
    ['knockout'] = function()
		return menu.t_valuename.knockout[menu.knockout or 1].displayname 
    end,
    ['refill'] = function()
		return menu.t_valuename.refill[menu.refill or 1].displayname 
    end,
    ['framedata'] = function()
		return menu.t_valuename.framedata[menu.framedata or 1].displayname 
    end,
    ['clsnview'] = function()
		return menu.t_valuename.clsnview[menu.clsnview or 1].displayname 
    end,
    ['hudview'] = function()
		return menu.t_valuename.hudview[menu.hudview or 1].displayname 
    end,
    ['recoverdirection'] = function()
		return menu.t_valuename.recoverdirection[menu.recoverdirection or 1].displayname 
    end,
    ['liedowntime'] = function()
		return menu.t_valuename.liedowntime[menu.liedowntime or 1].displayname 
    end,
    ['grabtech'] = function()
		return menu.t_valuename.grabtech[menu.grabtech or 1].displayname 
    end,
    ['counterhit'] = function()
		return menu.t_valuename.counterhit[menu.counterhit or 1].displayname 
    end,
}

function menu.f_trainingReset()
	for k, _ in pairs(menu.t_valuename) do
		menu[k] = 1
	end
	menu.ailevel = config.Difficulty
	for _, v in ipairs(menu.t_vardisplayPointers) do
		v.vardisplay = menu.f_vardisplay(v.itemname)
	end
	player(2)
	setAILevel(0)
	charMapSet(2, '_iksys_trainingDummyControl', 0)
	charMapSet(2, '_iksys_trainingGuardMode', 0)
	charMapSet(2, '_iksys_trainingDummyMode', 0)
	charMapSet(2, '_iksys_trainingDistance', 0)
	charMapSet(2, '_iksys_trainingButtonJam', 0)
    -- Triea Addition
	charMapSet(2, '_iksys_traininglife', 0)
	charMapSet(2, '_iksys_trainingenemylife', 0)
	charMapSet(2, '_iksys_trainingpower', 0)
	-- Kokorz Addition
	charMapSet(2, '_iksys_trainingFrameData', 0)
	charMapSet(2, '_iksys_trainingCLSNView', 0)
	charMapSet(2, '_iksys_trainingHUDView', 0)
	charMapSet(2, '_iksys_trainingGuardModeConfigure', 0)
	-- charMapSet(2, '_iksys_trainingDefenseMash', 0)
	charMapSet(2, '_iksys_trainingRecoverDirection', 0)
	charMapSet(2, '_iksys_trainingLiedownTime', 0)
	charMapSet(2, '_iksys_trainingGrabTech', 0)
	charMapSet(2, '_iksys_trainingCounterHit', 0)
	charMapSet(2, '_iksys_enableKO', 0)
	charMapSet(2, '_iksys_trainingButtonJamConfigure', 0)
end